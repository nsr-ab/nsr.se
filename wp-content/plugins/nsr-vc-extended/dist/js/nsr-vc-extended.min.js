var VcExtended=VcExtended||{};VcExtended.NSRExtend=VcExtended.NSRExtend||{},VcExtended.NSRExtend.Extended=function(e){function a(){a.prototype.init()}var t,s,n=null,r=[],o=!1,l=[];l.count=0;return a.prototype.init=function(){a.prototype.DefaultSiteSearch(),a.prototype.actionAndBindings()},a.prototype.searchNav=function(){e(".search-hits").addClass("hide"),e(".searchMenu").hasClass("sortguideMenu")&&e(".searchMenu").html('<ul class="search-nav"><li class="vc_col-sm-3 show-ao a-o-trigger">A-Ö</li><li class="vc_col-sm-3 sortguide-nsr-elasticSearch-nav active">Sökresultat <span></span></li></ul>'),e(".searchMenu").hasClass("sortguideMenu")||e(".searchMenu").html('<ul class="search-nav"><li class="vc_col-sm-3 nsr-elasticSearch-nav active">Sorteringsguiden <span></span></li><li class="vc_col-sm-3 nsr-page-nav">Sidor <span></span></li><li class="vc_col-sm-3 nsr-fetchplanner-nav">Tömningsdagar <span></span></li></ul>')},a.prototype.DefaultSiteSearch=function(){var t=a.prototype.getUrlParameter("q");t&&(e(".breadcrumbs").hide(),e("#searchkeyword-nsr").focus(),e("#searchkeyword-nsr").val(t.replace(/\+/g," ")),e(".sorteringsguiden-data").html(""),e(".search-autocomplete-data").html(""),e(".search-fetchPlanner-data").html(""),window.clearTimeout(n),a.prototype.doneTyping(),e(".searchWrapper").addClass("searching"),e(".search-nav li").removeClass("active"),a.prototype.searchNav(),l.count=0)},a.prototype.CollapsibleHeaders=function(){e("body").on("click",".collapsible-header",function(){$id=e(this).parents("ul").attr("id"),0===e(this).find("a").length?(e($id).find(".materialIconState").text("add"),e(this).hasClass("active")?e(this).find(".materialIconState").text("remove"):e(this).find(".materialIconState").text("add")):window.location.href=e(this).find("a").attr("href")}).bind(this)},a.prototype.encodeStr=function(e){return e.split("").reduce(function(e,a){return e=(e<<5)-e+a.charCodeAt(0),e&e},0)},a.prototype.displayMore=function(a){if(event.preventDefault(),e(a).closest("ul").find("li").hasClass("hide")){e(a).closest("ul").find(".hide").addClass("show"),e(a).closest("ul").find("li").removeClass("hide");var t=e(a).closest("ul").find("li").length-6;e(a).closest("ul").find(".showPosts").text("Dölj ("+t+")")}else{e(a).closest("ul").find(".show").addClass("hide"),e(a).closest("ul").find("li").removeClass("show");var s=e(a).closest("ul").find("li").length-1;e(a).closest("ul").find(".showPosts").text("Visa alla ("+s+")")}e(".card-content").matchHeight()},a.prototype.enterTrigger=function(a,t){return t.each(function(){e(t).keypress(function(e){var s=e.keyCode?e.keyCode:e.which;if("13"==s)return a.call(t,e),event.preventDefault(),!1})})},a.prototype.haltTimer=function(a,t){switch(a.which){case 32:window.clearTimeout(t);break;case 8:window.clearTimeout(t)}e("body").hasClass("error404")&&e(".sidebar-footer-area").css("margin-top","200px")},a.prototype.fpTimer=function(){a.prototype.fetchPlannerQuery(e(".searchNSR"))},a.prototype.ElasticTimer=function(e){a.prototype.autocomplete(e)},a.prototype.doneTyping=function(){e(".searchNSR").each(function(e,n){clearTimeout(s),clearTimeout(t),s=setTimeout(function(){a.prototype.ElasticTimer(n)},300)}),t=setTimeout(a.prototype.fpTimer,1100)},a.prototype.Strpos=function(e,a,t){var s=(e+"").indexOf(a,t||0);return s===-1?0:s},a.prototype.hashCode=function(e){var a=0;if(null===e)return a;for(i=0;i<e.length;i++)char=e.charCodeAt(i),a=(a<<5)-a+char,a&=a;return a},a.prototype.metaDataStr=function(e){var a=new Array;switch(e){case"post":a.postSection="Nyheter",a.icon="chat";break;case"fastighet":a.postSection="Fastighetsägare & Bostadsrättsföreningar",a.icon="location_city";break;case"villa":a.postSection="Villa & Privat",a.icon="home";break;case"foretag":a.postSection="Företag & Verksamheter",a.icon="domain";break;case"page":a.postSection="Sidor",a.icon="insert_drive_file";break;case"faq":a.postSection="Frågor & svar",a.icon="forum";break;case"sorteringsguide":a.postSection="Sorteringsguiden",a.icon="delete"}return""===a.icon&&(a.icon="find_in_page"),a},a.prototype.spinner=function(){var e=arguments[0],a=arguments[1],t=arguments[2]?"block":"none";return a||(a="small"),'<div class="'+e+" preloader-wrapper "+a+' active" style="display:'+t+';"> <div class="spinner-layer spinner-white-only"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> '},a.prototype.autocomplete=function(a){var t=e(a),s=t.find('input[type="search"]');s.val().length<2||this.autocompleteQuery(a)},a.prototype.pushQueryUrl=function(a,t,s){if(!e(".searchMenu").hasClass("sortguideMenu")&&"undefined"!=typeof history){var n=(history.state,{query:t,post_type:s}),r="S&ouml;k - NSR AB",i="/sok/?q="+encodeURIComponent(t);history.replaceState(n,r,i)}},a.prototype.autocompleteQuery=function(t){var s=e(t),n=s.find('input[type="search"]').val(),r=e("#post_type",s.find('input[type="search"]').parent()).val();a.prototype.pushQueryUrl(s,n,r);var i={action:"fetchDataFromElasticSearch",query:n,post_type:r,level:"ajax",type:"json"};a.prototype.getJsonData("elastic",s,i,r)},a.prototype.fetchPlannerQuery=function(t){var s=e(t),n=e("#searchkeyword-nsr").val(),r="",i={action:"fetchDataFromFetchPlannerCombined",query:n,post_type:r,level:"ajax",type:"json"};a.prototype.getJsonData("fetchplanner",s,i,null)},a.prototype.AOQuery=function(a){var t="sorteringsguide",s=[];switch(a){case"a-c":s=["a","b","c"];break;case"d-f":s=["d","e","f"];break;case"g-i":s=["g","h","i"];break;case"j-l":s=["j","k","l"];break;case"m-o":s=["m","n","o"];break;case"p-r":s=["p","r"];break;case"s-u":s=["s","t","u"];break;case"v-w":s=["v","w"];break;case"y-ö":s=["y","ä","ö"]}s=s.sort();for(var n=[],r=0;r<s.length;r++){var i={action:"fetchDataFromElasticSearch",query:s[r]+"*",post_type:t,level:"ajax",type:"json"},o=!1;r==s.length-1&&(o=!0);var l=this.getJsonDataAO(i,o);l&&(n+=""!=typeof l.responseJSON.sortguide[0].post_title&&"undefined"!=typeof l.responseJSON.sortguide[0].post_title?"<h5>"+l.responseJSON.sortguide[0].post_title.charAt(0)+"</h5>":""),n+="<ul>";for(var c=0;c<l.responseJSON.sortguide.length;c++)""!=typeof l.responseJSON.sortguide[c].post_title&&(n+="<li>"+l.responseJSON.sortguide[c].post_title+"</li>");n+="</ul>"}e(".search-ao-data").html(n),e(".sorteringsguiden").addClass("hide"),e(".search-autocomplete").addClass("hide"),e(".search-fetchPlanner").addClass("hide"),e(".search-ao").removeClass("hide")},a.prototype.getJsonDataAO=function(a,t){return e.ajax({url:ajax_object.ajax_url,data:a,method:"GET",dataType:"json",async:!1,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",ajax_object.nonce)}}).done(function(a){t&&e(".prefix").removeClass("nsr-origamiLoader")}.bind(this))},a.prototype.getJsonData=function(a,t,s,n){e.ajax({url:ajax_object.ajax_url,data:s,method:"GET",dataType:"json",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",ajax_object.nonce),e(window).width()>500?e(".nsr-searchResult .preloader-wrapper").length<1&&e(".prefix").addClass("nsr-origamiLoader"):e(".search-button").addClass("nsr-origamiLoader"),e("#searchkeyword-nsr").removeClass("valid"),e("#searchkeyword-nsr").removeClass("invalid"),e("#searchkeyword-nsr").addClass("waitingForConnection")}}).done(function(e){this.dataFromSource(a,t,s,n,e)}.bind(this))},a.prototype.dataFromSource=function(a,t,s,n,r){"fetchDataFromElasticSearch"===s.action?(l.sortguide=r.sortguide.length>0?r.sortguide.length:0,e(".searchMenu").hasClass("sortguideMenu")||(l.page=r.content.length>0?r.content.length:0),"undefined"!=typeof r.sortguide&&null!==r.sortguide&&"undefined"!=typeof parent.ga?parent.ga("send","event","SiteSearch",s.action,s.query,r.sortguide.length):"","undefined"!=typeof r.content&&null!==r.content&&"undefined"!=typeof parent.ga?parent.ga("send","event","SiteSearch",s.action,s.query,r.content.length):"",this.outputAutocomplete(t,r),l.count=l.count+2,e(".searchMenu").hasClass("sortguideMenu")||(0==l.sortguide?(e(".search-nav li").removeClass("active"),e(".nsr-fetchplanner-nav").addClass("active"),e("#nsr-searchResult .sorteringsguiden").addClass("hide"),e("#nsr-searchResult .search-fetchPlanner").removeClass("hide")):e("#nsr-searchResult .search-fetchPlanner").addClass("hide")),"undefined"!=typeof r.sortguide&&null!==r.sortguide&&(e(".sortguideMenu .sortguide-nsr-elasticSearch-nav span").html("("+l.sortguide+")"),e(".nsr-elasticSearch-nav span").html("("+l.sortguide+")")),e(".searchMenu").hasClass("sortguideMenu")||"undefined"!=typeof r.content&&null!==r.content&&e(".nsr-page-nav span").html("("+l.page+")")):e(".searchMenu").hasClass("sortguideMenu")||("undefined"!=typeof r.fp&&null!==r.fp&&"undefined"!=typeof parent.ga?parent.ga("send","event","SiteSearch",s.action,s.query,r.fp.length):"",this.outputFetchPlanner(t,r),"undefined"!=typeof r.fp&&null!==r.fp&&(l.fetchplanner=r.fp.length>0?r.fp.length:0,e(".search-nav .nsr-fetchplanner-nav span").html("("+l.fetchplanner+")")),l.count=l.count+1),e("#searchkeyword-nsr").hasClass("valid")&&e("#searchkeyword-nsr").addClass("valid"),e("#nsr-searchResult").css("display","block"),e(".searchMenu").hasClass("sortguideMenu")||this.relevance(l,n),setTimeout(function(){e(".prefix").removeClass("nsr-origamiLoader"),e(".search-button").removeClass("nsr-origamiLoader")},2e3)},a.prototype.relevance=function(a,t){if(3===a.count){var s=Math.max(a.sortguide,a.page,a.fetchplanner);e(".searchView").addClass("hide"),a.sortguide===s&&(e("#nsr-searchResult").removeClass("transparent-background"),e(".search-nav li").removeClass("active"),e(".nsr-elasticSearch-nav").addClass("active"),e(".sorteringsguiden").removeClass("hide"),e(".a-o-qview").removeClass("hide")),a.page!==a.sortguide&&a.page===s&&(e("#nsr-searchResult").addClass("transparent-background"),e(".search-nav li").removeClass("active"),e(".nsr-page-nav").addClass("active"),e(".search-autocomplete").removeClass("hide"),e(".a-o-qview").addClass("hide")),a.fetchplanner!==a.sortguide&&a.fetchplanner===s&&(e("#nsr-searchResult").removeClass("transparent-background"),e(".search-nav li").removeClass("active"),e(".nsr-fetchplanner-nav").addClass("active"),e(".search-fetchPlanner").removeClass("hide"),e(".a-o-qview").addClass("hide")),0===a.sortguide&&0===a.fetchplanner&&0===a.page&&(null!==t?(console.log(t),"faq"===t&&(e(".nsr-elasticSearch-nav").removeClass("active"),e(".sorteringsguiden").addClass("hide"),e(".nsr-page-nav").addClass("active"),e(".search-autocomplete").removeClass("hide"))):(e(".nsr-elasticSearch-nav").removeClass("active"),e(".sorteringsguiden").addClass("hide"),e(".nsr-fetchplanner-nav").addClass("active"),e(".search-fetchPlanner").removeClass("hide")))}},a.prototype.outputAutocomplete=function(t,s){var n=this.sortGuideResult(t,s);if(!e(".searchMenu").hasClass("sortguideMenu"))var r=this.sortPagesResult(t,s);window.navigator.geolocation&&(e(".search-autocomplete-data .preloader-wrapper").fadeIn("slow"),window.navigator.geolocation.getCurrentPosition(a.prototype.UserLocation,a.prototype.GeoError)),n&&(e(".sorteringsguiden-data").append(n),e(".sorteringsguiden").removeClass("hide")),e(".searchMenu").hasClass("sortguideMenu")||r&&e(".search-autocomplete-data").append(r),e("#nsr-searchResult").removeClass("hide"),e(".search-hits").html('Träffar på "'+e("#searchkeyword-nsr").val()+'" <span data-letter="a-c" class="a-o-trigger right-align right hide mobHide a-o-qview">Sorteringsguiden A till Ö</span>'),e(".nsr-elasticSearch-nav").hasClass("active")&&(e(".a-o-qview").removeClass("hide"),e(".search-hits").removeClass("hide"))},a.prototype.sortGuideResult=function(t,s){var n=0;if("undefined"!=typeof s.sortguide&&null!==s.sortguide&&s.sortguide.length>0){var i="",o=[],l=!1,c=e(window).width();return c<1005&&(l=!0),e(".errorSortguide").is(":visible")&&e(".errorSortguide").addClass("hide"),i+='<table class="sortGuideCompleteInfo">',e.each(s.sortguide,function(e,t){if(i+='<tr class="tabDesk">',i+='<td class="preSortCell" valign="top">',i+=t.post_title+' <i class="hide expand-sortCell material-icons expand-less deskHide">expand_less</i> <i class="expand-sortCell material-icons expand-more deskHide">expand_more</i> </td><td valign="top" class="preSort-frakt">',t.post_meta){if(""!=t.post_meta.fraktion_avc.name&&null!=t.post_meta.fraktion_avc.name){if(i+='<ul class="sortAs meta-fraktion">',i+='<li class="fraktion-icon-avc">',i+='<b class="deskHideFraction">Återvinningscentral:</b>',""!=t.post_meta.fraktion_avc.link)var s='<a href="'+t.post_meta.fraktion_avc.link+'">'+t.post_meta.fraktion_avc.name+"</a>";else var s=t.post_meta.fraktion_avc.name;l&&(i+="<div>"),i+=s,l&&(i+="</div>"),i+="</li></ul>"}if(""!=t.post_meta.fraktion_hemma.name&&null!=t.post_meta.fraktion_hemma.name){if(i+='<ul class="sortAs meta-fraktion">',i+='<li class="fraktion-icon-home">',i+='<b class="deskHideFraction">Hemma:</b>',""!=t.post_meta.fraktion_hemma.link)var c='<a href="'+t.post_meta.fraktion_hemma.link+'">'+t.post_meta.fraktion_hemma.name+"</a>";else var c=t.post_meta.fraktion_hemma.name;l&&(i+="<div>"),i+=c,l&&(i+="</div>"),i+="</li>";var d="";t.post_meta&&t.post_meta.avfall_bra_att_veta&&t.post_meta.avfall_bra_att_veta.length>=1&&"undefined"!=typeof t.post_meta.avfall_bra_att_veta[0]&&(d=t.post_meta.avfall_bra_att_veta[0].replace(new RegExp("\r?\n","g"),"<br />"),d?i+='<li class="exnfodispl "><b>Bra att veta: </b><div>'+d+"</div></li>":""),d="",i+="</ul>"}}i+="</td>",i+=a.prototype.inStallen(t.post_meta,o,l),r[n]=o,n++,i+="</ul>",i+="</td>",i+="</tr>"}),i+="</table>"}if("undefined"!=typeof s.sortguide&&null!==s.sortguide&&0===s.sortguide.length){var d="";d+='<div class="no-result"><h4>Sorteringsguide</h4><br /><p class="noResult">Det blev ingen träff på "'+e("#searchkeyword-nsr").val()+'". Tipsa oss om avfall som vi kan lägga till här  (<a href="https://nsr.se/sorteringsguiden">nsr.se/sorteringsguiden</a>)</p></div>',e(".sorteringsguiden-data").html(d)}},a.prototype.inStallen=function(t,s,n){var r="",i="",s=[],o=!1,l=e(window).width();if(l<1005&&(o=!0),i+='<td valign="top" class="preSort-inl">',i+='<i class="expand-inl material-icons expand-more">expand_more</i>',i+='<ul class="inlstallen">',t){if(t.inlamningsstallen&&t.inlamningsstallen.length){o&&(i+='<li class="deskHide"><h4>Lämnas nära dig:</h4></li>');for(var c=0;c<t.inlamningsstallen.length;c++){var d,h,p="",u="",f="",v="",m="",g="",y="";for(d=0;d<t.inlamningsstallen[c].length;d++)d>5&&(r="hide"),t.inlamningsstallen[c][d].pageurl&&(u="",f="",h="",a.prototype.Strpos(t.inlamningsstallen[c][d].pageurl,"?page_id=")&&(t.inlamningsstallen[c][d].pageurl="",u="",f="",p="",h=""),""!=t.inlamningsstallen[c][d].pageurl&&(u='<a href="'+t.inlamningsstallen[c][d].pageurl+'">',f="</a>",h="locationmap"),t.inlamningsstallen[c][d].lat&&t.inlamningsstallen[c][d]["long"]&&(t.inlamningsstallen[c][d].pageurl||(p=' data-url="http://maps.google.com?q='+t.inlamningsstallen[c][d].lat+","+t.inlamningsstallen[c][d]["long"]+'" ',h="locationmap"))),t.inlamningsstallen[c][d].lat&&t.inlamningsstallen[c][d]["long"]&&(v='data-lat="'+t.inlamningsstallen[c][d].lat+'" data-long="'+t.inlamningsstallen[c][d]["long"]+'"',m=a.prototype.hashCode("id_"+c+d+"_"+t.inlamningsstallen[c][d].lat+t.inlamningsstallen[c][d]["long"])),t.inlamningsstallen[c][d].lat&&t.inlamningsstallen[c][d]["long"]&&(s[d]=[t.inlamningsstallen[c][d].city,t.inlamningsstallen[c][d].lat,t.inlamningsstallen[c][d]["long"],t.inlamningsstallen[c][d].city,m]),g=m,m&&(m='id="'+m+'"'),m="",null!=t.inlamningsstallen[c][d].city&&(u||(y="nullLink"),i+='<li searchid="'+g+'" '+m+" "+v+' class="'+y+" "+h+" "+r+'" '+p+"> ",i+=u+t.inlamningsstallen[c][d].city+f+"</li>"),nullLink="",h="",r="",p="",v="",m=""}i+='<li class="viewAllInlamning"><a href="/alla-inlamningsstallen/">Visa alla</a></li>'}i+="</td>"}return i},a.prototype.sortPagesResult=function(t,s){var n="";if("undefined"!=typeof s.content&&null!==s.content&&s.content.length>0)return e.each(s.content,function(e,t){var s=t.post_excerpt.replace(/^(.{180}[^\s]*).*/,"$1");s&&(s+="...");var r=a.prototype.metaDataStr(t.post_type);r.icon||(r.icon="find_in_page"),n+='<div class="search-page-result collection cursor-pointer" onClick="window.location.href=\''+t.guid+'\';"><div class="cursor-pointer site-section">'+r.postSection+'</div><a href="'+t.guid+'">'+t.post_title,s&&(n+='<div class="moreinfo">'+s+"</div>"),n+="</a></div>",noContent=!0}),n;if("undefined"!=typeof s.content&&null!==s.content&&0===s.content.length){var r="";r+='<div class="no-result"><h4>Sidor på nsr.se</h4><br /><p class="noResult">Ingen träff på "'+e("#searchkeyword-nsr").val()+'".</p></div>',e(".search-autocomplete-data").html(r).removeClass("hide"),e("#nsr-searchResult").removeClass("transparent-background")}},a.prototype.outputFetchPlanner=function(a,t){var s='<div class="fp grid ">',n=!1;if("undefined"!=typeof t.fp&&null!==t.fp&&t.fp.length>0){var r=(new Date).toISOString().slice(0,10),i=!1;e.each(t.fp,function(a,o){var l=[],c="",d="",h=!1;if(e("#searchkeyword-nsr").removeClass("invalid"),e("#searchkeyword-nsr").addClass("valid"),o.hasOwnProperty("Exec")){for(var p=!1,u=0;u<o.Exec.AvfallsTyp.length;u++)if(u<=5&&o.Exec.Datum[u]>=r&&!l.indexOf(o.Exec.AvfallsTyp[u]+" "+o.Exec.Datum[u])>-1){if(n=!0,p=!0,l.avfall=o.Exec.AvfallsTyp[u],o.Exec.AvfallsTyp[u]){var f=o.Exec.AvfallsTyp[u].toLowerCase();c+="<span>"+f.charAt(0).toUpperCase()+f.slice(1)+"</span>"}o.Exec.Andrad[u]&&(c+=' <i class="fas fa-exclamation-circle" style="color: #fd516c;"></i>',h=!0),c+=" <br /> ",l.nDate=o.Exec.AvfallsTyp[u],d+="<span>"+o.Exec.DatumFormaterat[u]+"<span><br />",l[u]=o.Exec.AvfallsTyp[u]+" "+o.Exec.Datum[u]}p&&(s+='<div id="'+o.id+'" class="vc_col-sm-12 tabDesk">',s+='<div class="vc_col-sm-8 fp-address">',s+='<i class="expand-avfall material-icons expand-more">expand_more</i>',s+='<span class="fpTopic">'+o.Adress+"</span><br />",s+='<b class="">'+o.Ort+"</b><br /><br />",s+=' <a class="avfall-files-desk" target="_blank" href="/wp-admin/admin-ajax.php?action=fetchDataFromFetchPlannerCalendar&query='+encodeURIComponent(t.q)+"&level=ajax&type=json&calendar_type=ical&id="+encodeURIComponent(o.id)+'">Lägg till tömningsdagar i din kalender (1 år)</a>',s+=' <a class="avfall-files-desk" target="_blank" href="/wp-admin/admin-ajax.php?action=fetchDataFromFetchPlannerCalendar&query='+encodeURIComponent(t.q)+"&level=ajax&type=json&calendar_type=pdf&id="+encodeURIComponent(o.id)+'">Skriv ut tömningsdagar (1 år)</a>',s+="</div>",s+='<div  class="vc_col-sm-4 avfall hideDetails">',s+=' <a class="avfall-files-mob" target="_blank" href="/wp-admin/admin-ajax.php?action=fetchDataFromFetchPlannerCalendar&query='+encodeURIComponent(t.q)+"&level=ajax&type=json&calendar_type=ical&id="+encodeURIComponent(o.id)+'">Lägg till tömningsdagar i din kalender (1 år)</a>',s+=' <a class="avfall-files-mob" target="_blank" href="/wp-admin/admin-ajax.php?action=fetchDataFromFetchPlannerCalendar&query='+encodeURIComponent(t.q)+"&level=ajax&type=json&calendar_type=pdf&id="+encodeURIComponent(o.id)+'">Skriv ut tömningsdagar (1 år)</a>',s+='<div class="vc_col-sm-6 align-right vc_col-xs-6 bold">'+c+'</div><div class="vc_col-sm-6 vc_col-xs-6">'+d+"</div>",s+="</div>",s+="</div>")}i=!1})}s+="</div>",0===t.fp.length&&(s='<div class="no-result"><h4>Tömningsdagar</h4><br /><p class="noResult">Det blev ingen träff på "'+e("#searchkeyword-nsr").val()+'". Tömningsdagar finns även på <a href="https://minasidor.nsr.se">minasidor.nsr.se</a></p></div>'),e(".search-fetchPlanner-data").html(s)},a.prototype.GeoError=function(a){switch(a.code){case a.PERMISSION_DENIED:constant="PERMISSION_DENIED",e(".search-autocomplete-data .preloader-wrapper").hide();break;case a.POSITION_UNAVAILABLE:constant="POSITION_UNAVAILABLE",e(".search-autocomplete-data .preloader-wrapper").hide();break;case a.TIMEOUT:constant="TIMEOUT",e(".search-autocomplete-data .preloader-wrapper").hide();break;default:constant="Unrecognized error",e(".search-autocomplete-data .preloader-wrapper").hide()}},a.prototype.UserLocation=function(e){a.prototype.NearestCity(e.coords.latitude,e.coords.longitude)},a.prototype.Deg2Rad=function(e){return e*Math.PI/180},a.prototype.PythagorasEquirectangular=function(e,t,s,n){e=a.prototype.Deg2Rad(e),s=a.prototype.Deg2Rad(s),t=a.prototype.Deg2Rad(t),n=a.prototype.Deg2Rad(n);var r=6371,i=(n-t)*Math.cos((e+s)/2),o=s-e,l=Math.sqrt(i*i+o*o)*r;return l},a.prototype.getDistanceFromLatLonInKm=function(e,t,s,n){var r=6371,i=a.prototype.Deg2Rad(s-e),o=a.prototype.Deg2Rad(n-t),l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a.prototype.Deg2Rad(e))*Math.cos(a.prototype.Deg2Rad(s))*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d=r*c;return d},a.prototype.findClosest=function(){return arguments[0]instanceof Array&&(arguments=arguments[0]),Math.min.apply(Math,arguments)},a.prototype.NearestCity=function(t,s){var n=null;for(ind=0;ind<r.length;++ind)if(ind<r.length+1){var i,o=[];for(index=0;index<r[ind].length;++index)if(r[ind][index]){var l=a.prototype.getDistanceFromLatLonInKm(t,s,r[ind][index][1],r[ind][index][2]);o[index]=l,r[ind][index][3]=l}for(index=0;index<r[ind].length;++index)if(r[ind][index]){var c=a.prototype.findClosest(o);if(c===r[ind][index][3]){var n=r[ind][index][4],d=e('[searchid="'+n+'"]');e(d).each(function(){e(this).addClass("closeToHome")})}c=null}icn=!1}return e(".inlstallen").each(function(){var a=!1;e(this).find("li").each(function(){if(a)return void(e(this).hasClass("closeToHome")&&e(this).removeClass("closeToHome"));if(e(this).hasClass("closeToHome")){e(this).addClass("geoLink"),e(this).removeClass("hide");var t=e(this).clone();e(this).parent().prepend(t),e(this).remove(),a=!0}})}),e(".search-autocomplete-data .preloader-wrapper").fadeOut("slow"),r[i]},a.prototype.getUrlParameter=function(e){var a,t,s=decodeURIComponent(window.location.search.substring(1)),n=s.split("&");for(t=0;t<n.length;t++)if(a=n[t].split("="),a[0]===e)return void 0===a[1]||a[1]},a.prototype.actionAndBindings=function(){e("body").hasClass("wp-admin")||e(".card-content").matchHeight(),e(function(){this.CollapsibleHeaders()}.bind(this)),e("body").on("click",".showAllPosts",function(){a.prototype.displayMore(this)}).bind(this),e("body").on("click",".card",function(a){e(this).data("link")&&(window.location.href=e(this).data("link"))}).bind(this),e.fn.enterKey=function(e){a.prototype.enterTrigger(e,this)},e(".searchNSR").enterKey(function(){e(".sorteringsguiden-data").html(""),e(".search-autocomplete-data").html(""),e(".search-fetchPlanner-data").html(""),event.preventDefault(),window.clearTimeout(n),a.prototype.doneTyping(),e(".searchWrapper").addClass("searching"),e(".search-nav li").removeClass("active"),e(".searchMenu").hasClass("sortguideMenu")||e(".a-o-qview").removeClass(),a.prototype.searchNav(),l.count=0}),e(".searchNSR form").on("submit",function(t){return e(".sorteringsguiden-data").html(""),e(".search-autocomplete-data").html(""),e(".search-fetchPlanner-data").html(""),t.preventDefault(),window.clearTimeout(n),a.prototype.doneTyping(),e(".searchWrapper").addClass("searching"),e(".search-nav li").removeClass("active"),a.prototype.searchNav(),l.count=0,e(".searchMenu").hasClass("sortguideMenu")||e(".a-o-qview").removeClass(),!1}).bind(this),e("body").on("click",".a-o-trigger",function(t){t.preventDefault(),e(".prefix").addClass("nsr-origamiLoader"),e(".a-o-trigger").removeClass("active"),e(this).hasClass("show-ao")?(e(".searchMenu").hasClass("sortguideMenu")||e(this).removeClass("active"),e(".ao-nav li:first-child").addClass("active")):e(this).addClass("active"),e(".search-ao-data").html(""),e(".searchWrapper").addClass("searching"),e(".searchMenu").hasClass("sortguideMenu")?e(".show-ao").addClass("active"):e(".search-nav li").removeClass("active");var s=e(this).attr("data-letter")?e(this).attr("data-letter"):"a-c";a.prototype.AOQuery(s)}).bind(this),e(".searchNSR").on("input",function(){window.clearTimeout(n),o||(e(".searchNSR .search-button").show(),o=!0)}),e(".searchNSR").on("keydown",function(e){a.prototype.haltTimer(e,n)}),e("body").on("click",".locationmap",function(){e(this).data("url")&&window.open(e(this).data("url"),"_blank")}).bind(this),e("body").on("click","#searchkeyword-nsr",function(){e("#searchkeyword-nsr").focus()}).bind(this),e("body").on("click",".nsr-elasticSearch-nav",function(){e("#nsr-searchResult").removeClass("transparent-background"),e(".search-nav li").removeClass("active"),e(this).addClass("active"),e(".searchView").addClass("hide"),e(".sorteringsguiden").removeClass("hide"),e(".a-o-qview").removeClass("hide")}).bind(this),e("body").on("click",".nsr-page-nav",function(){e("#nsr-searchResult").addClass("transparent-background"),e(".search-nav li").removeClass("active"),e(this).addClass("active"),e(".searchView").addClass("hide"),e(".search-autocomplete").removeClass("hide"),e(".a-o-qview").addClass("hide")}).bind(this),e("body").on("click",".nsr-fetchplanner-nav",function(){e("#nsr-searchResult").removeClass("transparent-background"),e(".search-nav li").removeClass("active"),e(this).addClass("active"),e(".searchView").addClass("hide"),e(".search-fetchPlanner").removeClass("hide"),e(".a-o-qview").addClass("hide")}).bind(this),e("body").on("click",".sortguideMenu .show-ao",function(){e(".search-nav li").removeClass("active"),e(this).addClass("active")}).bind(this),e("body").on("click",".sortguide-nsr-elasticSearch-nav",function(){e(".search-nav li").removeClass("active"),e(this).addClass("active"),e(".searchView").addClass("hide"),e(".sorteringsguiden").removeClass("hide")}).bind(this),e("body").on("click",".preSort-inl .material-icons",function(){e(".inlstallen li").hide(),e(".sorteringsguiden-data tr").removeClass("expand-tr"),e(this).hasClass("expand-more")?(e(".preSort-inl").find("i").text("expand_more"),e(this).removeClass("expand-more"),e(this).addClass("expand-less"),e(this).text("expand_less"),e(this).closest(".preSort-inl").find("li").show(),e(this).closest("tr").addClass("expand-tr"),e(".inlstallen").each(function(){e(this).find("li:first").show()})):(e(this).removeClass("expand-less"),e(this).addClass("expand-more"),e(this).text("expand_more"),e(this).closest(".preSort-inl").find("li").hide(),e(".inlstallen").each(function(){e(this).find("li:first").show()}))}).bind(this),e("body").on("click",".preSortCell .material-icons",function(){e(this).closest(".tabDesk").find(".preSort-frakt").hasClass("showPreSorts")?(e(this).closest(".tabDesk").find(".expand-more").removeClass("hide"),e(this).addClass("hide"),e(this).closest(".tabDesk").find(".preSort-frakt").removeClass("showPreSorts"),e(this).closest(".tabDesk").find(".preSort-inl").removeClass("showPreSorts"),e(this).closest("tr").removeClass("expand-tr")):(e(this).closest(".tabDesk").find(".expand-less").removeClass("hide"),e(this).addClass("hide"),e(this).closest(".tabDesk").find(".preSort-frakt").addClass("showPreSorts"),e(this).closest(".tabDesk").find(".preSort-inl").addClass("showPreSorts"),e(this).closest("tr").addClass("expand-tr"))}).bind(this),e("body").on("click",".fp .tabDesk .material-icons",function(){e(this).closest(".tabDesk").find(".avfall").hasClass("hideDetails")?(e(this).closest(".tabDesk").find(".avfall").removeClass("hideDetails"),e(this).closest(".tabDesk").addClass("expand-tr"),e(this).closest(".tabDesk").find(".material-icons").text("expand_less")):(e(this).closest(".tabDesk").find(".avfall").addClass("hideDetails"),e(this).closest(".tabDesk").find(".material-icons").text("expand_more"),e(this).closest(".tabDesk").removeClass("expand-tr"))}).bind(this),e(".searchDesignation").html(e(".searchNSR").attr("data-searchdesignation"))},new a}(jQuery);